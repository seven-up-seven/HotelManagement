<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.ImageView?>

<BorderPane xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.frontendquanlikhachsan.controllers.HomeController"
            stylesheets="@../assets/css/Home.css"
            prefWidth="1200" prefHeight="700">

    <!-- TOP: Clock and User Info -->
    <top>
        <HBox alignment="TOP_RIGHT" styleClass="header-container">
            <padding><Insets top="15" right="25" bottom="15" left="25"/></padding>
            <VBox spacing="8" alignment="CENTER" styleClass="clock-user-box">
                <Label fx:id="clockLabel" text="00:00:00" styleClass="clock-time"/>
                <Label fx:id="dateDayLabel" text="NgÃ y 22-06-2025 â€“ Chá»§ nháº­t" styleClass="clock-date"/>
                <Label fx:id="userRoleLabel" text="Xin chÃ o, Manager John Doe" styleClass="user-role"/>
            </VBox>
        </HBox>
    </top>

    <!-- CENTER: Main Content with Card Design -->
    <center>
        <VBox spacing="30" alignment="CENTER" styleClass="main-content">
            <Label text="Trang Chá»§ Quáº£n LÃ½ KhÃ¡ch Sáº¡n" styleClass="main-title"/>

            <!-- User Info Card -->
            <VBox styleClass="user-card" spacing="20">
                <HBox alignment="CENTER" spacing="30">
                    <VBox alignment="CENTER">
                        <ImageView fx:id="avatarImageView"
                                   fitHeight="120" fitWidth="120"
                                   preserveRatio="true"
                                   styleClass="avatar-img"/>
                    </VBox>
                    <GridPane fx:id="infoForm" hgap="15" vgap="10" styleClass="info-grid">
                        <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>
                        <Label text="MÃ£ nhÃ¢n viÃªn:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="info-label"/>
                        <Label fx:id="staffIdLabel" text="1111111111" GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="info-value"/>
                        <Label text="TÃªn nhÃ¢n viÃªn:" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="info-label"/>
                        <Label fx:id="staffNameLabel" text="John Doe" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="info-value"/>
                        <Label text="CCCD:" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="info-label"/>
                        <Label fx:id="staffIdentifyNumberLabel" text="1111111111" GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="info-value"/>
                        <Label text="Email:" GridPane.rowIndex="3" GridPane.columnIndex="0" styleClass="info-label"/>
                        <Label fx:id="staffEmailLabel" text="john.doe@example.com" GridPane.rowIndex="3" GridPane.columnIndex="1" styleClass="info-value"/>
                        <Label text="Quyá»n háº¡n:" GridPane.rowIndex="4" GridPane.columnIndex="0" styleClass="info-label"/>
                        <Label fx:id="staffRoleLabel" text="Manager" GridPane.rowIndex="4" GridPane.columnIndex="1" styleClass="info-value"/>
                        <Label text="Äá»‹a chá»‰:" GridPane.rowIndex="5" GridPane.columnIndex="0" styleClass="info-label"/>
                        <Label fx:id="staffAddressLabel" text="123 Street" GridPane.rowIndex="5" GridPane.columnIndex="1" styleClass="info-value"/>
                        <Label text="Tuá»•i:" GridPane.rowIndex="6" GridPane.columnIndex="0" styleClass="info-label"/>
                        <Label fx:id="staffAgeLabel" text="30" GridPane.rowIndex="6" GridPane.columnIndex="1" styleClass="info-value"/>
                        <Label text="Vá»‹ trÃ­:" GridPane.rowIndex="7" GridPane.columnIndex="0" styleClass="info-label"/>
                        <Label fx:id="staffPositionLabel" text="Manager" GridPane.rowIndex="7" GridPane.columnIndex="1" styleClass="info-value"/>
                    </GridPane>
                </HBox>
            </VBox>
        </VBox>
    </center>

    <!-- BOTTOM: Enhanced Dock Bar with Hover Tooltips -->
    <bottom>
        <HBox alignment="CENTER" styleClass="dock-container">
            <ScrollPane fx:id="dockScrollPane" hbarPolicy="NEVER" vbarPolicy="NEVER" fitToHeight="true">
                <HBox fx:id="dockItems" alignment="CENTER" spacing="25" styleClass="dock-items">
                    <!-- ADMIN Group -->
                    <Button fx:id="adminButton" text="ðŸ‘¤" styleClass="dock-icon">
                        <tooltip>
                            <Tooltip text="Quáº£n trá»‹ viÃªn" showDelay="0.2s"/>
                        </tooltip>
                        <contextMenu>
                            <ContextMenu fx:id="adminMenu">
                                <items>
                                    <MenuItem text="ðŸ” Quáº£n lÃ½ tÃ i khoáº£n" onAction="#openAccountManagement"/>
                                    <MenuItem text="ðŸ§© Quáº£n lÃ½ vai trÃ²" onAction="#openUserRoleManagement"/>
                                    <MenuItem text="ðŸ“œ Quáº£n lÃ½ lá»‹ch sá»­" onAction="#openHistoryManagement"/>
                                    <MenuItem text="âš™ï¸ Quáº£n lÃ½ tham sá»‘" onAction="#openVariableManagement"/>
                                </items>
                            </ContextMenu>
                        </contextMenu>
                    </Button>

                    <!-- RECEPTIONIST Group -->
                    <Button fx:id="receptionistButton" text="ðŸ›Ž" styleClass="dock-icon">
                        <tooltip>
                            <Tooltip text="Lá»… tÃ¢n" showDelay="0.2s"/>
                        </tooltip>
                        <contextMenu>
                            <ContextMenu fx:id="receptionistMenu">
                                <items>
                                    <MenuItem text="ðŸ› Láº­p phiáº¿u thuÃª phÃ²ng" onAction="#openRoomRentingTab"/>
                                    <MenuItem text="âž• Bá»• sung phiáº¿u thuÃª" onAction="#openEditTab"/>
                                    <MenuItem text="ðŸ§¾ Khá»Ÿi táº¡o hÃ³a Ä‘Æ¡n" onAction="#openRentalFormViewTab"/>
                                    <MenuItem text="ðŸ“‚ Tra cá»©u hÃ³a Ä‘Æ¡n" onAction="#openInvoiceAccountantTab"/>
                                </items>
                            </ContextMenu>
                        </contextMenu>
                    </Button>

                    <!-- MANAGER Group -->
                    <Button fx:id="managerButton" text="ðŸ“‹" styleClass="dock-icon">
                        <tooltip>
                            <Tooltip text="Quáº£n lÃ½" showDelay="0.2s"/>
                        </tooltip>
                        <contextMenu>
                            <ContextMenu fx:id="managerMenu">
                                <items>
                                    <MenuItem text="ðŸ‘¨â€ðŸ’¼ Quáº£n lÃ½ nhÃ¢n viÃªn" onAction="#openStaffTab"/>
                                    <MenuItem text="ðŸªª Quáº£n lÃ½ chá»©c vá»¥" onAction="#openPositionTab"/>
                                    <MenuItem text="ðŸ™‹â€â™‚ï¸ Quáº£n lÃ½ khÃ¡ch hÃ ng" onAction="#openGuestTab"/>
                                    <MenuItem text="ðŸ“‘ Quáº£n lÃ½ phiáº¿u thuÃª" onAction="#openRentalFormTab"/>
                                    <MenuItem text="ðŸ“ƒ Quáº£n lÃ½ hÃ³a Ä‘Æ¡n" onAction="#openInvoiceTab"/>
                                    <MenuItem text="ðŸ¨ Cáº¥u trÃºc khÃ¡ch sáº¡n" onAction="#openStructureTab"/>
                                    <MenuItem text="ðŸ“… Äáº·t phÃ²ng" onAction="#openBookingConfirmationFormTab"/>
                                    <MenuItem text="â³ Gia háº¡n" onAction="#openRentalExtensionFormTab"/>
                                    <MenuItem text="â³ SÆ¡ Ä‘á»“ khÃ¡ch sáº¡n" onAction="#openMapTab"/>
                                </items>
                            </ContextMenu>
                        </contextMenu>
                    </Button>

                    <!-- ACCOUNTANT Group -->
                    <Button fx:id="accountantButton" text="ðŸ’°" styleClass="dock-icon">
                        <tooltip>
                            <Tooltip text="Káº¿ toÃ¡n" showDelay="0.2s"/>
                        </tooltip>
                        <contextMenu>
                            <ContextMenu fx:id="accountantMenu">
                                <items>
                                    <MenuItem text="ðŸ“Š BÃ¡o cÃ¡o thÃ¡ng" onAction="#openReportTab"/>
                                    <MenuItem text="ðŸ” Tra cá»©u hÃ³a Ä‘Æ¡n" onAction="#openInvoiceAccountantTab"/>
                                    <MenuItem text="ðŸ’¸ LÆ°Æ¡ng nhÃ¢n viÃªn" onAction="#openSalaryTab"/>
                                </items>
                            </ContextMenu>
                        </contextMenu>
                    </Button>

                    <!-- Other Buttons -->
                    <Button text="ðŸ " onAction="#openHomeTab" styleClass="dock-icon">
                        <tooltip>
                            <Tooltip text="Trang chá»§" showDelay="0.2s"/>
                        </tooltip>
                    </Button>
                    <Button text="ðŸ¤–" onAction="#openChatbot" styleClass="dock-icon">
                        <tooltip>
                            <Tooltip text="Trá»£ lÃ½ AI" showDelay="0.2s"/>
                        </tooltip>
                    </Button>
                    <Button text="ðŸšª" onAction="#logout" styleClass="dock-icon">
                        <tooltip>
                            <Tooltip text="ÄÄƒng xuáº¥t" showDelay="0.2s"/>
                        </tooltip>
                    </Button>
                </HBox>
            </ScrollPane>
        </HBox>
    </bottom>
</BorderPane>